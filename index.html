<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Foundation Terminal</title>
<style>
  body {
    margin: 0;
    background: url('https://media.discordapp.net/attachments/1196956714973544550/1277860172382867569/1233_20240827074808.png?ex=68110a46&is=680fb8c6&hm=56cc9da40ee07dff87ad0dcb7795c37f200b7430f05b75b82154e0748d100962&=&format=webp&quality=lossless&width=1423&height=800') no-repeat center center fixed;
    background-size: cover;
    backdrop-filter: brightness(0.5);
    font-family: monospace;
    color: #00FF00;
  }
  #terminal {
    background-color: rgba(0,0,0,0.8);
    margin: 50px auto;
    padding: 20px;
    width: 90%;
    height: 600px;
    overflow: hidden;
    border: 2px solid #00FF00;
    position: relative;
  }
  #output {
    overflow-y: hidden;
    height: 90%;
    margin-bottom: 10px;
    white-space: pre-wrap;
    word-wrap: break-word;
    overflow-x: hidden;
    display: flex;
    flex-direction: column-reverse;
  }
  #input-line {
    width: 100%;
    border: none;
    outline: none;
    background: transparent;
    color: #00FF00;
    font-family: monospace;
    font-size: 16px;
  }
  .command {
    color: #00FF00;
    font-weight: bold;
  }
</style>
</head>
<body>
<div id="terminal" onclick="focusInput()">
  <div id="output"></div>
  <input id="input-line" autofocus>
</div>

<script>
const output = document.getElementById('output');
const inputLine = document.getElementById('input-line');

let loggedIn = false;
let siteLogged = false;
let clearance = 0;
let booted = false;

const scpFiles = {
  'SCP-001': { level: 5, content: 'SCP-001 is classified top secret.' },
  'SCP-049': { level: 3, content: 'SCP-049 is the Plague Doctor.' },
  'SCP-096': { level: 2, content: 'SCP-096 is the Shy Guy.' },
  'SCP-106': { level: 4, content: 'SCP-106 is the Old Man.' },
  'SCP-999': { level: 1, content: 'SCP-999 is the Tickle Monster.' }
};

const personnelFiles = {
  'Jones': { level: 2, content: 'Dr. Jones: Researcher specializing in SCP-049.' },
  'Smith': { level: 3, content: 'Agent Smith: Task Force Commander.' },
  'Doe': { level: 4, content: 'Dr. Doe: Senior Researcher, SCP-096 Project Lead.' }
};

function focusInput() {
  inputLine.focus();
}

function writeLine(text) {
  const newLine = document.createElement('div');
  newLine.innerHTML = text;
  output.prepend(newLine);
}

function bootSystem() {
  booted = true;
  writeLine('Booting up Foundation Terminal...');
  setTimeout(() => writeLine('Connecting to Site414 Terminal...'), 500);
  setTimeout(() => writeLine('Connection Established.'), 1000);
  setTimeout(() => writeLine('Please enter Site Code:'), 1500);
}

function loginSite(siteCode) {
  if (siteCode.toLowerCase() === 'site414') {
    siteLogged = true;
    writeLine('Site recognized. Please enter your Clearance Key (lv1-5 / lv-omni):');
  } else {
    writeLine('Invalid Site Code. Try again.');
  }
}

function setClearanceKey(key) {
  const clearanceMap = {
    'lv1': 1,
    'lv2': 2,
    'lv3': 3,
    'lv4': 4,
    'lv5': 5,
    'lv-omni': 6
  };
  const lowerKey = key.toLowerCase();
  if (clearanceMap[lowerKey]) {
    clearance = clearanceMap[lowerKey];
    loggedIn = true;
    writeLine('Access Granted. Type <span class="command">help</span> for a list of commands.');
  } else {
    writeLine('Invalid Clearance Key. Try again.');
  }
}

function listFiles(type) {
  if (type === 'scp') {
    writeLine("Available SCP Files:\n");
    for (const key in scpFiles) {
      if (scpFiles[key].level <= clearance) {
        writeLine(`<span class='command'>${key}</span>`);
      }
    }
    writeLine("\nType <span class='command'>open-file-[SCP-Number]</span> to view a specific file.");
  } else if (type === 'personnel') {
    writeLine("Available Personnel Files:\n");
    for (const key in personnelFiles) {
      if (personnelFiles[key].level <= clearance) {
        writeLine(`<span class='command'>${key}</span>`);
      }
    }
    writeLine("\nType <span class='command'>open-file-[Personnel-Name]</span> to view a specific file.");
  }
}

function handleCommand(cmd) {
  const lowerCmd = cmd.toLowerCase();

  if (!booted) {
    bootSystem();
    return;
  }

  if (!siteLogged) {
    loginSite(cmd);
    return;
  }

  if (!loggedIn) {
    setClearanceKey(cmd);
    return;
  }

  switch (lowerCmd) {
    case 'help':
      writeLine('Available Commands:\n');
      writeLine('<span class="command">clear</span> - Clear terminal');
      writeLine('<span class="command">list-scp</span> - List SCP files');
      writeLine('<span class="command">list-personnel</span> - List personnel files');
      writeLine('<span class="command">cf-info</span> - View Combat Units');
      break;
    case 'clear':
      output.innerHTML = '';
      break;
    case 'list-scp':
      listFiles('scp');
      break;
    case 'list-personnel':
      listFiles('personnel');
      break;
    case 'cf-info':
      writeLine('Available Units:\n');
      writeLine('<span class="command">MTF</span> - Mobile Task Forces');
      writeLine('<span class="command">RRT</span> - Rapid Response Teams');
      writeLine('<span class="command">IA</span> - Internal Affairs');
      writeLine('<span class="command">SSD</span> - Special Security Divisions');
      writeLine("\nType cf-info-[unit] to view their divisions.");
      break;
    case 'cf-info-mtf':
      writeLine('Mobile Task Force Units:\n');
      writeLine('Alpha-1 | Shortcut : a1');
      writeLine('Alpha-9 | Shortcut : a9');
      writeLine('Omega-1 | Shortcut : o1');
      writeLine('Epsilon-11 | Shortcut : e11');
      writeLine('Nu-7 | Shortcut : nu7');
      writeLine('Strike Team 414 | Shortcut : 414');
      writeLine('Titan-1 | Shortcut : t1');
      writeLine("\nType tf-info-[shortcut] to view specific unit information.");
      break;
    default:
      if (lowerCmd.startsWith('open-file-scp-')) {
        const file = scpFiles[cmd.replace('open-file-', '').toUpperCase()];
        if (file && file.level <= clearance) {
          writeLine(file.content);
        } else {
          writeLine('Access Denied or File Not Found.');
        }
      } else if (lowerCmd.startsWith('open-file-')) {
        const file = personnelFiles[cmd.replace('open-file-', '')];
        if (file && file.level <= clearance) {
          writeLine(file.content);
        } else {
          writeLine('Access Denied or File Not Found.');
        }
      } else if (lowerCmd.startsWith('tf-info-')) {
        showTaskForceInfo(lowerCmd.replace('tf-info-', ''));
      } else {
        writeLine('Unknown Command. Type <span class="command">help</span> for commands.');
      }
  }
}

function showTaskForceInfo(unit) {
  const units = {
    'a1': 'Alpha-1 operates under the Ethics Committee, deployed in matters of secrecy and ethical danger.',
    'a9': 'Alpha-9 is specialized in the handling and cooperation with anomalies.',
    'o1': 'Omega-1 intervenes swiftly where procedure fails and morals are ignored.',
    'e11': 'Epsilon-11 "Nine-Tailed Fox" handles internal breaches.',
    'nu7': 'Nu-7 "Hammer Down" is tasked with large scale combat operations.',
    '414': 'Strike Team-414 specializes in VIP escort and O5 protection.',
    't1': 'Titan-1 experts in unconventional warfare and psychological disruption.'
  };
  if (units[unit]) {
    writeLine(units[unit]);
  } else {
    writeLine('Invalid Unit Shortcut.');
  }
}

inputLine.addEventListener('keydown', function(event) {
  if (event.key === 'Enter') {
    const cmd = inputLine.value;
    inputLine.value = '';
    writeLine('> ' + cmd);
    handleCommand(cmd);
  }
});
</script>
</body>
</html>
